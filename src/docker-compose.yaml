version: '3'
services:
  rockpaperscissors-sql:
    image: microsoft/mssql-server-linux
    container_name: rockpaperscissors-sql
    environment:
        SA_PASSWORD: "Y0ur-Str0ng-Passw0rd"
        ACCEPT_EULA: "Y"
    ports:
        - "1433:1433"

  rockpaperscissors-server:
    build:
      context: .
      dockerfile: Dockerfile-Server
    container_name: rockpaperscissors-server
    environment:
      "ConnectionStrings:DefaultConnection": "Server=rockpaperscissors-sql,1433;Database=RockPaperScissorsBoom;User Id=SA;Password=Y0ur-Str0ng-Passw0rd;"
      "ASPNETCORE_ENVIRONMENT": "Development"
    ports:
        - "80:80"
    depends_on:
        - rockpaperscissors-sql